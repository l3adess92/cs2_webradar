name: Build Windows App  # ðŸ‘ˆ Nom qui s'affiche dans GitHub

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: windows-latest
    
    steps:
    - name: Get Code
      uses: actions/checkout@v4
      
    - name: Setup Windows Build
      uses: microsoft/setup-msbuild@v1
      
    - name: Compile Project
      run: |
        cd usermode
        msbuild cs2_webradar.sln /p:Configuration=Release
        
    - name: Prepare Files
      run: |
        copy "usermode\x64\Release\cs2_webradar.exe" "windows_app.exe"
        7z a app_package.zip windows_app.exe webapp/
        
    - name: Share Package
      uses: actions/upload-artifact@v4
      with:
        name: windows-app  # ðŸ‘ˆ Nom du ZIP tÃ©lÃ©chargÃ©
        path: app_package.zip
